# 쿠버네티스가 대세가 된 이유

## 쿠버네티스가 무엇인지

- 쿠버네티스는 결국 컨테이너를 관리하기 위한 툴
- 만약 도커를 이용해서 웹사이트를 배포하려고 한다면, node.js나 Django 웹사이트들
- 그걸 도커 컨테이너 안에 넣어서 AWS로 보내고 싶다면 이 프로세스에서는 쿠버네티스를 알아야할 이유가 없음
- 이때 그냥 도커를 업로드하고, 배포하는 것이 전부니까
- 근데 만약 micro-service 아키텍처를 갖고 있다면?
  - 어떤 컨테이너는 유저 업로드만 다루고
  - 어떤 컨테이너는 인증만 다루고
  - 어떤건 결제만 다루고 있다면
  - 이 모든 컨테이너들은 동시에 업로드가 되어야 함
- 배포를 할때는 그렇게 하면 되긴하는데.. 만약 많은 컨테이너들을 갖고 있다면, 문제가 생길 수 있음
- 만약 하나의 컨테이너가 죽으면 빨리 해당 컨테이너를 재시작해야됨, 서비스의 핵심 파트일 수 있으니까
- 이때 쿠버네티스가 등장하게 됨

## 언제 사용하는지

- 첫번째, 컨테이너들의 모니터링을 실시(컨테이너관리)
  - 나 대신에 컨테이너들을 바라보면서 문제가 있는지 없는지 체크하고 죽으면 재빠르게 재시작하는 역할을 해줌
  - 쿠버네티스로 (예를 들어) 최소 5개의 컨테이너들을 작동하게끔 할 수 있음
  - 그중에 하나라도 죽으면 쿠버네티스가 그 컨테이너를 빠르게 재시작시킴
  - 컨테이너가 많은 경우, 쿠버네티스가 유용할 것임
- 두번째, 자동으로 고객의 니즈에 따라 컨테이너 조절(로드밸런싱)
  - 만약 1만명의 유저가 접속을 할 경우, 그러나 나의 웹/앱은 준비가 되지 않았을 경우, 쿠버네티스는 자동으로 새로운 컨테이너들을 만들 수 있음
  - 해당 웹사이트의 니즈를 수용할 수 있도록 알아서 웹 니즈에 맞춰서 컨테이너들을 준비하고, 사람드이 떠나고, 니즈가 줄어들면, 컨테이너를 지정해준 최소 숫자로 자동으로 조정될 것
  - 원래는 수동으로 해야하는 작업이었지만, 쿠버네티스가 도와주는 것
- 세번째, 변경사항을 자동으로 업데이트해줌(롤링업데이트)
  - 예를 들어 클라우드에 5개의 컨테이너가 있다고 해보자
  - 코드의 버그를 고치고 싶다거나, 버전을 업데이트 하고 싶은 경우
  - 이걸 수동으로 해야한다면? 쿠버네티스가 없을때 어떻게 해야할까?
  - 컨테이너들을 끄고, 새로운 버전을 올리고, 다시 컨테이너들을 켜야됨
  - 즉, 웹사이트가 잠시 다운되어야한다는 의미
  - 쿠버네티스는 컨테이너의 신규 버전을 차례로 업데이트 해줌, 웹사이트가 다운되는 경우 없이
- 결국, 컨테이너로 작업을 할 때, 자동화해야할 것들이 많은데 이런 불편한 부분들을 해결해줌
- 하지만 꼭 써야되는 건 아님