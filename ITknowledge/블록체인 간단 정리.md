# 블록체인 간단 정리

## 블록체인과 채굴

- 블록체인이 등장하기 전에는 온라인 거래들이 특정 서버를 기반으로 이뤄졌었음
  - 해당 서비스를 운영하는 회사에서 컴퓨터 하나를 마련해두고 여기서 모든 거래들이 진행되고 내역들이 장부에 저장됨
  - 여기에는 위험이 따름
  - 이 중앙 서버만 털리면 장부를 조작해서 돈을 빼가거나 시스템을 마비, 파괴할 수도 있음
  - 때문에 회사에선 보안에 많은 인력과 돈을 들여야함
- 블록체인은 이 발상을 뒤집은 것
  - 장부를 중앙서버에 꽁꽁 숨겨놓는 것이 아니라 모두가 볼 수 있게 공개하고 사람들이 자발적으로 참여해서 이 장부들을 함께 관리하고 감시하도록 하는 것
- 블록체인에 여러 종류가 있고 종류마다 차이가 있지만 비트코인이 쓰는 Proof of Work 방식으로 설명해보면,
  - 블록체인은 이 관리에 참여하고자 하는 사람들에게 장부 전체를 복사해서 전달해줌
  - 이 장부들을 다운받고 관리에 동참하는 컴퓨터들은 '채굴기'라고 불리게 됨
  - 이 장부들은 블록 단위로 되어있음
  - 거래가 발생할때마다, 그 내역들은 전세계의 모든 관리 참여자들, '채굴기'들에 전달이 됨
  - 이 내역들이 약 10분에 한 번씩 '블록'으로 묶여서 장부에 추가가 되는 것
  - 이러다보면 채굴기마다 다른 장부를 갖게 될 수가 있음
  - 오류가 있거나, 느려서 뒤쳐졌거나 아니면 누가 악의적으로 조작을 했을 수도 있고
  - 그러면 그 중에 '가장 긴' 체인이 진짜로 인정을 받고 채택돼서 나머지 채굴기들에 전달이 됨
  - 누락된 게 없으니까 블록이 제일 많을거란거
  - 악의적으로 변형된 체인이 가장 길다면 어떻함?
    - 이런 경우가 불가능에 가까움
    - 새 블록이 만들어지면 바로 이전 블록에 합쳐지는데
    - 이때, 이전 블록들의 전체 거래 내역과 새 블록의 거래 내역들을 다 계산해야 찾아낼 수가 있음
    - 거래 내역을 조금만 임의로 변경해도 완전히 예측 불가능하게 달라지면서 조작이 불가능함
    - 이때 해시라는 개념이 사용됨
    - 모든 거래 내역들을 특정 공식으로 계산해서 이 문제를 풀어야 새 블록을 연결해서 내놓을 수 있다는 것
    - 블록 중간에 거래 하나만 살짝 조작해도 그 이후의 블록들은 문제를 전부 다시 풀어야 연결할 수 있음
  - 중요한 건, 이 문제가 엄청 어려움
  - 전세계의 모든 채굴기들이 서로 경쟁하고 협력하면서 10분동안 낑낑 풀어야 겨우 풀릴 정도로 매번 난이도가 조절이 됨
  - 가장 먼저 정답을 맞춰서 다음 블록을 성사시키는 컴퓨터에게는 일정량의 보상이 주어짐, 코인을 받는 것
  - 그리고 또 다음 블록의 정답을 찾기 위해 채굴 시작
  - 보상을 목적으로 채굴에 참여하는 자발적 참가자들에 의해 저절로 보안까지 이뤄지게 되는 것