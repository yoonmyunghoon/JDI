# 서블릿/JSP Study

## 1. 소개

- JAVA를 사용한 웹 개발
- JAVA를 사용해서 웹 개발을 할 때 사용할 수 있는 api가 서블릿과 JSP가 있음
- 자바를 이용한 백엔드 필요 기술 스택
  - 서블릿과 JSP를 학습해서 웹 서비스를 개발하기 전에 자바와 JDBC 등에 대해서 공부하자
  - 학습 순서
    - 자바(학습 완료) > HTML(프로젝트 경험), CSS(프로젝트 경험) > JDBC(프로젝트 경험, RDB, ORM 등) > 서블릿&JSP > 스프링 > 리눅스, 메이븐, Git(프로젝트 경험)

![1](서블릿_JSP_images/1.png)

### 학습 목표

![2](서블릿_JSP_images/2.png)

- 여기서는 서블릿, JSP, JSP MVC까지 학습
- 이어서 Spring 학습



## 2. 웹 서버 프로그램이란?

### 예전의 일반적인 업무용 프로그램

- 프로그램을 컴퓨터에서 바로 사용

![3](서블릿_JSP_images/3.png)

### CS(클라이언트 / 서버) 프로그램

- 생산지, 지점 등(서버)과 본사(클라이언트) 간의 데이터 요청과 처리
- 데이터는 생산지, 지점에서 만들어지고 원격에 있는 본사에서 정보를 조회하려고 하는 일이 발생하게 됨
- 실시간 데이터 전달을 위해 네트워크(인터넷)을 이용함
- 그런데 서버와 클라이언트를 하나의 언어로 개발했고, 각 지점에서 동기화하기 위해서는 모든 클라이언트와 서버가 같은 버전을 사용해야했기 때문에, 설치와 재설치가 빈번해졌음(자동으로 설치와 재설치가 되던 것이 아님)
- 또, 소켓을 이용해서 데이터를 전송하는 것이 기본이었는데 직접 데이터를 포맷팅하고 유효성 검사하고 등등 부담스러움

![4](서블릿_JSP_images/4.png)

- 이러한 불편함을 해결하기 위해 여러가지 방법들이 고안됨
  - 소켓, RPC, ... 웹 등
  - 결국에는 웹을 사용하게 됨

![5](서블릿_JSP_images/5.png)

### 데이터가 아닌 문서를 전달하는 웹을 사용하면?

- 이미 웹은 브라우저를 통해 요청하고, 웹 서버에서 응답을 해주는 프로세스를 가지고 있었음
- 서버와 클라이언트 프로그램을 웹에 올려서 사용하자
- 웹은 기본적으로 페이지를 제공해주는 것
  - 생각해보니 예전에 사용하던 윈도우 프로그램의 페이지가 웹 페이지랑 크게 다르지 않다는 생각
  - 게임처럼 엄청나게 시각적으로 동적인건 아니지만, 업무용으로는 충분히 표현할 수 있음
  - 다만,  서버쪽에서 DB와 연동해서 데이터를 제공해주는 일은 해줘야함
    - DB와 연동해서 동적인 페이지를 환경을 추가하게 됨
- 이렇게 서버에서 동적인 페이지를 만들어서 클라이언트에 보내주면 브라우저를 통해 페이지를 볼 수 있게 됨
  - 동적인 페이지가 전달되다보니 클라이언트쪽에서 프로그램을 만들 필요가 없어짐
    - 브라우저만 있으면 페이지를 띄워주니까..
- 예전에는 CS프로그램이라고 했었는데 웹으로 오면서 클라이언트가 없어짐
  - 그래서 웹 초기에는 웹 개발자라고하면 서버 프로그래머를 의미했었음
- 최근에는 자바스크립트라는 것이 등장함
  - 페이지를 요청하던 것에서 다시 예전처럼 데이터를 전달하는 방식으로 바뀜
  - 서버쪽에서 데이터를 보내주면 브라우저에서 돌아가는 자바스크립트로 된 클라이언트 프로그램을 만들게 됨

![6](서블릿_JSP_images/6.png)



## 3. 웹 서버 프로그램과 Servlet

### 웹 기반의 클라이언트/서버 프로그램

- 웹을 이용해서 CS 프로그램을 만들겠다라고 하면서 서버쪽에서 먼가 추가적인 작업이 필요하게 됨
- 사용자가 회원에 대한 목록을 요청함 > 웹 서버는 홈 디렉토리에 그 요청이 있는지 찾음 > 찾으면 웹 문서일 것
  - 그런데 웹 문서는 미리 만들어져 있는 것이 불가능함
  - DB에서 현재의 데이터 상황을 받아와야함
  - 결국 문서가 있는 것이 아니라 이런 문서를 만들어내기 위한 코드가 있음
  - 서버는 이 코드를 그냥 클라이언트에게 보내는 것이 아니라 실행시켜서 DB를 통해 데이터를 활용하고 난 후 페이지로 만들어서 보내줘야됨
  - 결국 이 코드를 실행할 실행환경이 추가적으로 필요하게 된 것
  - 웹 서버는 기본적으로 있지만, 사용자가 요구하는 내용이 동적이라면 이 코드를 실행하고, 그 결과를 보내줄 수 있는 무언가가 필요함
  - 이런 실행환경을 WAS(Web Application Server)라고 함
  - 이렇게 서비스해줄 수 있는 것이 추가적으로 설치되어있어야함
- 사용자가 목록 요청 > 웹 서버가 코드를 찾아서 WAS에게 넘겨줌 > WAS가 코드를 실행함(DB에 접근해서 보낼 목록을 만듬) > 다시 웹 서버에게 보냄 > 웹 서버가 클라이언트에게 결과를 응답함
- 결론적으로, 웹 서버 어플리케이션은 기본적으로 다음으로 구성됨
  - Server Application
    - 동적으로 문서를 만들기 위한 코드들
  - 이를 실행시킬 수 있는 환경
    -  웹 서버 + WAS

![7](서블릿_JSP_images/7.png)

### 왜 웹 서버 응용 프로그램을 Servlet이라 명칭할까?

- 클라이언트에서 어떤 것을 요청하면 웹 서버에 의해서 이런 요청에 응답할 수 있는 코드(Server App, ex.자바 서버 어플리케이션)가 찾아질 것
- 그런데 이런 Server App은 사용자의 요청에 따라서 그때 그때 파편화된 것이 실행되고 전달되고나면 프로그램이 끝나버림
- 그래서 이렇게 조각나있는 서버 어플리케이션을 명칭화한게 아닐까?

![8](서블릿_JSP_images/8.png)

- 서블릿 단위로 만들기 위한 환경, 서블릿이라는 것을 만들기 위한 환경을 구축해보자





## 참고

- 유튜브 채널 뉴렉처







